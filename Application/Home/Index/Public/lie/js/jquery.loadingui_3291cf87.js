!function($,window,undefined){function Plugin(element,options,method){this.element=$(element),this.options=$.extend({},defaults,options),this._defaults=defaults,this._name=pluginName.toLowerCase(),this._loading=$("<div />").addClass(this._name).insertAfter(this.element),this[method]()}var pluginName="LoadingUI",ie6=window.VBArray&&!window.XMLHttpRequest,document=window.document,methodHandler=["destroy","refresh"],defaults={type:"click"};Plugin.prototype.init=function(){return this},Plugin.prototype.show=function(){var that=this,getPix=function(ele,css){return parseInt(ele.css(css).replace(/[^\d\.]/gi,"")||"0")},elementProp={size:{width:that.element.outerWidth(),height:that.element.outerHeight()},margin:{top:getPix(that.element,"margin-top"),right:getPix(that.element,"margin-right"),bottom:getPix(that.element,"margin-bottom"),left:getPix(that.element,"margin-left")},position:that.element.position()};return that.element.css({opacity:this.options.opacity}),that._loading.removeClass().addClass(that._name+" "+that._name+"-"+that.options.skin.toLowerCase()).css({width:elementProp.size.width,height:elementProp.size.height,left:elementProp.position.left+elementProp.margin.left,top:elementProp.position.top+elementProp.margin.top}).show(),that},Plugin.prototype.hide=function(){return this._loading.removeClass().addClass(this._name).fadeOut(),this.element.animate({opacity:1}),this},Plugin.prototype.setOptions=function(options){return options&&(this.options=options),this},$.fn[pluginName]=$.fn[pluginName]||function(options,method){return"string"==typeof options&&(method=options,options={}),method=method||"show",options=$.extend({},{skin:"A",opacity:0},options),this.each(function(){var _plugin=$(this).data("plugin_"+pluginName);_plugin?(_plugin.setOptions&&_plugin.setOptions.call(_plugin,options),_plugin[method]&&_plugin[method].call(_plugin)):$(this).data("plugin_"+pluginName,new Plugin(this,options,method))})}}(jQuery,window);